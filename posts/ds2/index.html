<!DOCTYPE html><html lang="en-US" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="Solving “Disjoint Set Test” on DMOJ" /><meta property="og:locale" content="en_US" /><meta name="description" content="My blog where I explore full-stack development, problem-solving, and just general programming." /><meta property="og:description" content="My blog where I explore full-stack development, problem-solving, and just general programming." /><link rel="canonical" href="https://blog.vishnus.me/posts/ds2/" /><meta property="og:url" content="https://blog.vishnus.me/posts/ds2/" /><meta property="og:site_name" content="Vishnu’s Blog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-06-13T10:00:00-04:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Solving “Disjoint Set Test” on DMOJ" /><meta name="twitter:site" content="@twitter_username" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"description":"My blog where I explore full-stack development, problem-solving, and just general programming.","url":"https://blog.vishnus.me/posts/ds2/","@type":"BlogPosting","headline":"Solving “Disjoint Set Test” on DMOJ","dateModified":"2021-06-13T10:21:49-04:00","datePublished":"2021-06-13T10:00:00-04:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.vishnus.me/posts/ds2/"},"@context":"https://schema.org"}</script><title>Solving “Disjoint Set Test” on DMOJ | Vishnu's Blog</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Vishnu's Blog"><meta name="application-name" content="Vishnu's Blog"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script async src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="https://cdn.jsdelivr.net/gh/cotes2020/chirpy-images/commons/avatar.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Vishnu's Blog</a></div><div class="site-subtitle font-italic">A blog where I explore all things programming</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/vishnupsatish" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://www.linkedin.com/in/vishnu-satish-3627011b2/" aria-label="linkedin" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['vishnupavan.satish','gmail.com'].join('@')" aria-label="email" class="order-5" target="_blank" rel="noopener"> <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" target="_blank" rel="noopener"> <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>Solving “Disjoint Set Test” on DMOJ</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Solving “Disjoint Set Test” on DMOJ</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Vishnu Satish </span> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sun, Jun 13, 2021, 10:00 AM -0400" prep="on" > Jun 13, 2021 <i class="unloaded">2021-06-13T10:00:00-04:00</i> </span></div><div> <span> <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Sun, Jun 13, 2021, 10:21 AM -0400" prefix="Updated " > Jun 13, 2021 <i class="unloaded">2021-06-13T10:21:49-04:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1206 words">6 min</span></div></div><div class="post-content"><p><a href="#"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://antique-fringe-fennel.glitch.me/badge?page_id=2021-06-13-ds2.md" /></a></p><h2 id="problem">Problem</h2><p>Problem link: <a href="https://dmoj.ca/problem/ds2" target="_blank">https://dmoj.ca/problem/ds2</a></p><p>Problem type: Graph theory</p><p>This problem asks us to implement a program that outputs the number of edges in the minimum spanning tree of a weighted, undirected graph. Though we are not given the weights of each edge, we are given that “an edge that shows up earlier in the input has a strictly less weight than an edge that shows up later in the input”. If there is no minimum spanning tree (i.e. the graph is not connected) we output “Disconnected Graph”.</p><h2 id="terminology">Terminology</h2><p>Node/vertex: an element in a graph</p><p>Edge: the connection between two nodes/vertices in a graph</p><p>Weight: the “cost” of travelling along an edge in a graph</p><p>Directed graph: a graph has that direction; every edge start from one nodes and goes to another</p><h2 id="solution">Solution</h2><h3 id="disjoint-set">Disjoint-set</h3><p>We will need to use the disjoint-set data structure to find the minimum spanning tree of the given graph. What is a disjoint-set data structure? It is a data structure that is used to store a collection of elements that are part of non-overlapping sets, with each set having a representative element.</p><p>A disjoint-set (with path compression optimization) has two main operations. The data structure can also be stored in an array, where the value with index <code class="language-plaintext highlighter-rouge">i</code> in the array represents <code class="language-plaintext highlighter-rouge">i</code>’s parent element’s index.</p><ul><li>Find<ul><li>Returns the representative of a vertex’s set, and sets all vertices in between (including the vertex passed to the function) to be direct children of the representative</ul><li>Merge<ul><li>Merges two sets (adds an edge between the representative of the sets of the vertices given)</ul></ul><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre>int find(vertex v) {
    if ds[v] != v:
        ds[v] = find(ds[v])
    return ds[v]
}

void merge(vertex v, vertex u) {
    ds[find(v)] = find(u)
}
</pre></table></code></div></div><p>Below is an example of how the disjoint-set data structure works.</p><p>Assume we have 10 elements to begin with, and all elements are part of their own set. Each set’s representative is the sole element in that set.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://res.cloudinary.com/dnwczwamg/image/upload/vishnu-blog/posts/2021-06-07-ds2/disjoint-set-step1.png" alt="" width="50%" /></p><p>Let’s merge 1 and 2. An edge is added between 1 and 2. <code class="language-plaintext highlighter-rouge">merge(1, 2)</code></p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://res.cloudinary.com/dnwczwamg/image/upload/vishnu-blog/posts/2021-06-07-ds2/disjoint-set-step2.png" alt="" width="50%" /></p><p>Let’s now merge 4 and 1. An edge is added between 4 and 1’s representative, which is 2.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://res.cloudinary.com/dnwczwamg/image/upload/vishnu-blog/posts/2021-06-07-ds2/disjoint-set-step3.png" alt="" width="50%" /></p><p>Now, let’s merge 2 and 3. An edge is added between each vertex’s representative.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://res.cloudinary.com/dnwczwamg/image/upload/vishnu-blog/posts/2021-06-07-ds2/disjoint-set-step4.png" alt="" width="50%" /></p><p>If we were to call <code class="language-plaintext highlighter-rouge">find(1)</code> now (finding 1’s representative), it would return 3, and it would also make 1’s direct parent 3. This is known as the path compression optimization.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://res.cloudinary.com/dnwczwamg/image/upload/vishnu-blog/posts/2021-06-07-ds2/disjoint-set-step5.png" alt="" width="50%" /></p><p>You might be wondering how the disjoint-set data structure relates to finding the minimum spanning tree of a graph. Finding the minimum spanning tree of a graph can be achieved by using either Prim’s or Kruskal’s algorithm. We’ll be using Kruskal’s algorithm for this problem.</p><h3 id="minimum-spanning-tree">Minimum spanning tree</h3><p>What is a minimum spanning tree? A minimum spanning tree, in a connected, undirected, weighted graph, is the series of edges that connect the entire graph, while using minimum total edge weight (sum of all weights of the edges visited by the MST).</p><p>Below is an example of a minimum spanning tree of a graph.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://res.cloudinary.com/dnwczwamg/image/upload/b_rgb:ffffff/v1623076536/vishnu-blog/posts/2021-06-07-ds2/mst.png" alt="Minimum spanning tree" width="50%" /></p><p>The idea of Kruskal’s algorithm is to sort each edge in non-decreasing order by its weight (which is conveniently how the edges are given in the input), then add the current edge to the minimum spanning tree if the two vertices are not part of the same set. If we have added the current edge, then merge the sets of both of the vertices that are a part of the edge. Kruskal’s algorithm is an example of a greedy algorithm.</p><p>If a minimum spanning tree does not exist (if the graph is disconnected), we should output <code class="language-plaintext highlighter-rouge">Disconnected Graph</code>. We can check for a connected graph by determining if each element in the disjoint-set has the same representative element after Kruskal’s algorithm has been run. If there exists an element in the disjoint-set such that its representative is not equal to another element’s representative, then the graph is disconnected.</p><p>Let’s now test our strategy on the sample inputs.</p><h2 id="sample-case-1">Sample Case 1</h2><h5 id="input">Input</h5><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>4 4
1 2
1 3
2 3
3 4
</pre></table></code></div></div><h5 id="output">Output</h5><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>1
2
4
</pre></table></code></div></div><p>The graph can be represented as follows:</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://res.cloudinary.com/dnwczwamg/image/upload/vishnu-blog/posts/2021-06-07-ds2/sampleinput1-step1-graph.png" alt="" width="50%" /></p><p>Since we can assume that any edge that comes before another edge in the input has a lesser weight than the edge that comes later, there is no need to sort the input. We will use an array to represent our disjoint-set.</p><p>Disjoint-set:</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://res.cloudinary.com/dnwczwamg/image/upload/vishnu-blog/posts/2021-06-07-ds2/sampleinput1-start-dsu.png" alt="" width="50%" /></p><p>Array (index 0 will not be used):</p><div class="table-wrapper"><table><tbody><tr><td><code class="language-plaintext highlighter-rouge">index</code><td><strong>0</strong><td><strong>1</strong><td><strong>2</strong><td><strong>3</strong><td><strong>4</strong><tr><td><code class="language-plaintext highlighter-rouge">value</code><td>0<td>1<td>2<td>3<td>4</table></div><p>Minimum spanning tree: <code class="language-plaintext highlighter-rouge">{}</code></p><h3 id="step-1">Step 1</h3><p>Edge: <code class="language-plaintext highlighter-rouge">1 2</code>.</p><p>Check if 1 and 2 are part of the same set. They are not, so we can merge them. <code class="language-plaintext highlighter-rouge">merge(1, 2)</code></p><p>Disjoint-set:</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://res.cloudinary.com/dnwczwamg/image/upload/vishnu-blog/posts/2021-06-07-ds2/sampleinput1-step1-dsu.png" alt="" width="50%" /></p><p>Array:</p><div class="table-wrapper"><table><tbody><tr><td><code class="language-plaintext highlighter-rouge">index</code><td><strong>0</strong><td><strong>1</strong><td><strong>2</strong><td><strong>3</strong><td><strong>4</strong><tr><td><code class="language-plaintext highlighter-rouge">value</code><td>0<td>2<td>2<td>3<td>4</table></div><p>Minimum spanning tree: <code class="language-plaintext highlighter-rouge">{edge 1}</code></p><h3 id="step-2">Step 2</h3><p>Edge: <code class="language-plaintext highlighter-rouge">1 3</code>.</p><p>Check if 1 and 3 are part of the same set. They are not, so we can merge them. <code class="language-plaintext highlighter-rouge">merge(1, 3)</code></p><p>Disjoint-set:</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://res.cloudinary.com/dnwczwamg/image/upload/vishnu-blog/posts/2021-06-07-ds2/sampleinput1-step2-dsu.png" alt="" width="50%" /></p><p>Array:</p><div class="table-wrapper"><table><tbody><tr><td><code class="language-plaintext highlighter-rouge">index</code><td><strong>0</strong><td><strong>1</strong><td><strong>2</strong><td><strong>3</strong><td><strong>4</strong><tr><td><code class="language-plaintext highlighter-rouge">value</code><td>0<td>2<td>3<td>3<td>4</table></div><p>Minimum spanning tree: <code class="language-plaintext highlighter-rouge">{edge 1, edge 2}</code></p><h3 id="step-3">Step 3</h3><p>Edge: <code class="language-plaintext highlighter-rouge">2 3</code>.</p><p>Check if 2 and 3 are part of the same set. They are, so do not add the current edge to the minimum spanning tree.</p><p>Disjoint-set:</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://res.cloudinary.com/dnwczwamg/image/upload/vishnu-blog/posts/2021-06-07-ds2/sampleinput1-step2-dsu.png" alt="" width="50%" /></p><p>Array:</p><div class="table-wrapper"><table><tbody><tr><td><code class="language-plaintext highlighter-rouge">index</code><td><strong>0</strong><td><strong>1</strong><td><strong>2</strong><td><strong>3</strong><td><strong>4</strong><tr><td><code class="language-plaintext highlighter-rouge">value</code><td>0<td>2<td>3<td>3<td>4</table></div><p>Minimum spanning tree: <code class="language-plaintext highlighter-rouge">{edge 1, edge 2}</code></p><h3 id="step-4">Step 4</h3><p>Edge: <code class="language-plaintext highlighter-rouge">2 4</code>.</p><p>Check if 2 and 4 are part of the same set. They are not, so we can merge them. <code class="language-plaintext highlighter-rouge">merge(2, 4)</code></p><p>Disjoint-set:</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://res.cloudinary.com/dnwczwamg/image/upload/v1623592081/vishnu-blog/posts/2021-06-07-ds2/sampleinput1-step4-dsu.png" alt="" width="50%" /></p><p>Array:</p><div class="table-wrapper"><table><tbody><tr><td><code class="language-plaintext highlighter-rouge">index</code><td><strong>0</strong><td><strong>1</strong><td><strong>2</strong><td><strong>3</strong><td><strong>4</strong><tr><td><code class="language-plaintext highlighter-rouge">value</code><td>0<td>2<td>3<td>4<td>4</table></div><p>Minimum spanning tree: <code class="language-plaintext highlighter-rouge">{edge 1, edge 2, edge 4}</code></p><p>We realize that each element is a part of the same set and has the same representative (4). We can then output the minimum spanning tree.</p><p>Now that we have devised a strategy and have confirmed it with the sample input, we can write the code for this problem.</p><h2 id="code">Code</h2><div class="language-c++ highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
</pre><td class="rouge-code"><pre><span class="cp">#include &lt;bits/stdc++.h&gt;
</span>
<span class="cp">#define el "\n"
</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="k">const</span> <span class="kt">int</span> <span class="n">MM</span> <span class="o">=</span> <span class="mi">100001</span><span class="p">;</span>

<span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">dsu</span><span class="p">[</span><span class="n">MM</span><span class="p">];</span>
<span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">mst</span><span class="p">;</span>
<span class="n">set</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">uni</span><span class="p">;</span>


<span class="kt">int</span> <span class="nf">find</span><span class="p">(</span><span class="kt">int</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">e</span> <span class="o">!=</span> <span class="n">dsu</span><span class="p">[</span><span class="n">e</span><span class="p">])</span> <span class="p">{</span>
        <span class="n">dsu</span><span class="p">[</span><span class="n">e</span><span class="p">]</span> <span class="o">=</span> <span class="n">find</span><span class="p">(</span><span class="n">dsu</span><span class="p">[</span><span class="n">e</span><span class="p">]);</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">dsu</span><span class="p">[</span><span class="n">e</span><span class="p">];</span>
<span class="p">}</span>


<span class="kt">void</span> <span class="nf">merge</span><span class="p">(</span><span class="kt">int</span> <span class="n">u</span><span class="p">,</span> <span class="kt">int</span> <span class="n">v</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">dsu</span><span class="p">[</span><span class="n">find</span><span class="p">(</span><span class="n">u</span><span class="p">)]</span> <span class="o">=</span> <span class="n">find</span><span class="p">(</span><span class="n">v</span><span class="p">);</span>
<span class="p">}</span>


<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>

    <span class="n">cin</span><span class="p">.</span><span class="n">tie</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span><span class="n">ios</span><span class="o">::</span><span class="n">sync_with_stdio</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
    
    <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">n</span> <span class="o">&gt;&gt;</span> <span class="n">m</span><span class="p">;</span>

    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="n">dsu</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>


    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">m</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">;</span>
        <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">u</span> <span class="o">&gt;&gt;</span> <span class="n">v</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">find</span><span class="p">(</span><span class="n">u</span><span class="p">)</span> <span class="o">!=</span> <span class="n">find</span><span class="p">(</span><span class="n">v</span><span class="p">))</span> <span class="p">{</span>
            <span class="n">mst</span><span class="p">.</span><span class="n">emplace_back</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
            <span class="n">merge</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="n">uni</span><span class="p">.</span><span class="n">emplace</span><span class="p">(</span><span class="n">find</span><span class="p">(</span><span class="n">i</span><span class="p">));</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">uni</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Disconnected Graph"</span> <span class="o">&lt;&lt;</span> <span class="n">el</span><span class="p">;</span>
        <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">for</span> <span class="p">(</span><span class="k">auto</span> <span class="n">e</span> <span class="o">:</span> <span class="n">mst</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">e</span> <span class="o">&lt;&lt;</span> <span class="n">el</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></table></code></div></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/programming/'>programming</a>, <a href='/categories/competitive-programming/'>competitive programming</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/graph-theory/" class="post-tag no-text-decoration" >graph theory</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://blog.vishnus.me/posts/ds2/" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <a href="https://twitter.com/intent/tweet?text=Solving “Disjoint Set Test” on DMOJ - Vishnu's Blog&url=https://blog.vishnus.me/posts/ds2/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Solving “Disjoint Set Test” on DMOJ - Vishnu's Blog&u=https://blog.vishnus.me/posts/ds2/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/getting-summer-2021-internship/">Getting my summer 2021 internship + general tips and advice</a><li><a href="/posts/ds2/">Solving “Disjoint Set Test” on DMOJ</a><li><a href="/posts/ac19p5/">Solving “Appleby Contest '19 P5 - Matrix Operation” on DMOJ</a><li><a href="/posts/blog-views-badge/">Blog post views on a static blog for free</a><li><a href="/posts/about-me/">About this blog (and me)</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/development/">development</a> <a class="post-tag" href="/tags/dynamic-programming/">dynamic programming</a> <a class="post-tag" href="/tags/graph-theory/">graph theory</a> <a class="post-tag" href="/tags/internship/">internship</a> <a class="post-tag" href="/tags/meta/">meta</a> <a class="post-tag" href="/tags/recursion/">recursion</a> <a class="post-tag" href="/tags/tools/">tools</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/ac19p5/"><div class="card-body"> <span class="timeago small" > Jun 6, 2021 <i class="unloaded">2021-06-06T15:02:00-04:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Solving “Appleby Contest '19 P5 - Matrix Operation” on DMOJ</h3><div class="text-muted small"><p> Problem Problem link: https://dmoj.ca/problem/ac19p5 Problem type: Dynamic programming This problem asks us to implement a program that outputs the longest strictly (i.e. can’t be equal) increa...</p></div></div></a></div><div class="card"> <a href="/posts/blog-views-badge/"><div class="card-body"> <span class="timeago small" > Jun 7, 2021 <i class="unloaded">2021-06-07T20:50:00-04:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Blog post views on a static blog for free</h3><div class="text-muted small"><p> Background I wanted to create a blog, and do so for free without being bound by a service that holds my content. (GitHub doesn’t count, since the blog files and the posts are saved locally, and ...</p></div></div></a></div><div class="card"> <a href="/posts/getting-summer-2021-internship/"><div class="card-body"> <span class="timeago small" > Sep 27, 2021 <i class="unloaded">2021-09-27T10:00:00-04:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Getting my summer 2021 internship + general tips and advice</h3><div class="text-muted small"><p> During the summer of 2021, I interned at the University of Waterloo developing a website for the Software Architecture Group (SWAG). This blog post will outline how I got the internship and general...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/blog-views-badge/" class="btn btn-outline-primary" prompt="Older"><p>Blog post views on a static blog for free</p></a> <a href="/posts/getting-summer-2021-internship/" class="btn btn-outline-primary" prompt="Newer"><p>Getting my summer 2021 internship + general tips and advice</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://github.com/vishnupsatish">Vishnu Satish</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/development/">development</a> <a class="post-tag" href="/tags/dynamic-programming/">dynamic programming</a> <a class="post-tag" href="/tags/graph-theory/">graph theory</a> <a class="post-tag" href="/tags/internship/">internship</a> <a class="post-tag" href="/tags/meta/">meta</a> <a class="post-tag" href="/tags/recursion/">recursion</a> <a class="post-tag" href="/tags/tools/">tools</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://blog.vishnus.me{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
