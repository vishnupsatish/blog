<!DOCTYPE html><html lang="en-US" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="Solving “Appleby Contest ‘19 P5 - Matrix Operation” on DMOJ" /><meta property="og:locale" content="en_US" /><meta name="description" content="My blog where I explore full-stack development, problem-solving, and just general programming." /><meta property="og:description" content="My blog where I explore full-stack development, problem-solving, and just general programming." /><link rel="canonical" href="https://blog.vishnus.me/posts/ac19p5/" /><meta property="og:url" content="https://blog.vishnus.me/posts/ac19p5/" /><meta property="og:site_name" content="Vishnu’s Blog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-06-06T15:02:00-04:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Solving “Appleby Contest ‘19 P5 - Matrix Operation” on DMOJ" /><meta name="twitter:site" content="@twitter_username" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"description":"My blog where I explore full-stack development, problem-solving, and just general programming.","url":"https://blog.vishnus.me/posts/ac19p5/","@type":"BlogPosting","headline":"Solving “Appleby Contest ‘19 P5 - Matrix Operation” on DMOJ","dateModified":"2021-06-13T10:10:28-04:00","datePublished":"2021-06-06T15:02:00-04:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.vishnus.me/posts/ac19p5/"},"@context":"https://schema.org"}</script><title>Solving “Appleby Contest '19 P5 - Matrix Operation” on DMOJ | Vishnu's Blog</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Vishnu's Blog"><meta name="application-name" content="Vishnu's Blog"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script async src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="https://cdn.jsdelivr.net/gh/cotes2020/chirpy-images/commons/avatar.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Vishnu's Blog</a></div><div class="site-subtitle font-italic">A blog where I explore all things programming</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/vishnupsatish" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://www.linkedin.com/in/vishnu-satish-3627011b2/" aria-label="linkedin" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['vishnupavan.satish','gmail.com'].join('@')" aria-label="email" class="order-5" target="_blank" rel="noopener"> <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" target="_blank" rel="noopener"> <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>Solving “Appleby Contest '19 P5 - Matrix Operation” on DMOJ</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Solving “Appleby Contest '19 P5 - Matrix Operation” on DMOJ</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Vishnu Satish </span> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sun, Jun 6, 2021, 3:02 PM -0400" prep="on" > Jun 6, 2021 <i class="unloaded">2021-06-06T15:02:00-04:00</i> </span></div><div> <span> <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Sun, Jun 13, 2021, 10:10 AM -0400" prefix="Updated " > Jun 13, 2021 <i class="unloaded">2021-06-13T10:10:28-04:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1000 words">5 min</span></div></div><div class="post-content"><p><a href="#"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://antique-fringe-fennel.glitch.me/badge?page_id=2021-06-06-ac19p5.md" /></a></p><h2 id="problem">Problem</h2><p>Problem link: <a href="https://dmoj.ca/problem/ac19p5" target="_blank">https://dmoj.ca/problem/ac19p5</a></p><p>Problem type: Dynamic programming</p><p>This problem asks us to implement a program that outputs the longest strictly (i.e. can’t be equal) increasing path in an N x N matrix consisting of integers.</p><h2 id="solution">Solution</h2><p>This problem can be solved by using top-down dynamic programming. The idea is to use recursion (dividing a problem into sub-problems) with memoization (storing, then re-using calculated value for the sub-problems).</p><blockquote><p>Note that DP stands for dynamic programming.</p></blockquote><blockquote><p>the array <code class="language-plaintext highlighter-rouge">a</code> represents the matrix (input) values and <code class="language-plaintext highlighter-rouge">dp</code> represents the DP table values</p></blockquote><p>We then have to define a DP state (DP array/table representation) and a DP transition (how a problem relates to its sub-problems).</p><p>In this problem, the DP state is as follows.</p><p>Let <code class="language-plaintext highlighter-rouge">dp[i][j]</code> represent the longest strictly increasing path in the matrix that begins at <code class="language-plaintext highlighter-rouge">a[i][j]</code>. In this situation, <code class="language-plaintext highlighter-rouge">dp</code> is a two-dimensional array.</p><blockquote><p><code class="language-plaintext highlighter-rouge">a[i][j]</code> represents the value at row <code class="language-plaintext highlighter-rouge">i</code> and column <code class="language-plaintext highlighter-rouge">j</code> in the matrix given in the input.</p></blockquote><p>A base case in dynamic programming represents specific DP states that can be pre-calculated without the input or any sub-problems having an impact.</p><p>In this case, the base case is as follows.</p><p><code class="language-plaintext highlighter-rouge">dp[i][j]</code> = 0 if <code class="language-plaintext highlighter-rouge">a[i][j]</code> has no neighbours that are strictly greater than itself.</p><blockquote><p>There are four neighbours to any value <code class="language-plaintext highlighter-rouge">a[i][j]</code> that is not in the corner, which are <code class="language-plaintext highlighter-rouge">a[i + 1][j]</code>, <code class="language-plaintext highlighter-rouge">a[i - 1][j]</code>, <code class="language-plaintext highlighter-rouge">a[i][j + 1]</code>, and <code class="language-plaintext highlighter-rouge">a[i][j - 1]</code>.</p></blockquote><p>Now, let’s think of how we can relate the DP state to other sub-problems. We know that a path must be strictly increasing, so we can only consider neighbours of <code class="language-plaintext highlighter-rouge">a[i][j]</code> if they are greater than <code class="language-plaintext highlighter-rouge">a[i][j]</code>.</p><p>Once we determine which neighbours are valid, we have to determine which neighbour to choose as part of the longest path. This is where we can use recursion. Our DP transition is as follows.</p><p><code class="language-plaintext highlighter-rouge">dp[i][j]</code> = maximum <code class="language-plaintext highlighter-rouge">dp</code> value of all valid neighbours + 1</p><p>There is also one more case we have to handle, which is if <code class="language-plaintext highlighter-rouge">dp[i][j]</code> does not have four neighbours that we can fix by one-indexing the <code class="language-plaintext highlighter-rouge">matrix</code> and <code class="language-plaintext highlighter-rouge">dp</code> arrays and checking whether the neighbours have a value that is not equal to 0.</p><p>We will also need to run our recursive function once from every element of the matrix.</p><p>Now that we have determined our DP state, base case, and transition, we can test our strategy on the sample case.</p><h2 id="sample-case">Sample Case</h2><h5 id="input">Input</h5><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>3
9 8 4
7 2 3
6 1 5
</pre></table></code></div></div><h5 id="output">Output</h5><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>5
</pre></table></code></div></div><p>We can test our strategy on this case.</p><p>Our matrix is as follows.</p><blockquote><p>The bolded numbers on the top row and leftmost column represent the <code class="language-plaintext highlighter-rouge">i</code> and <code class="language-plaintext highlighter-rouge">j</code> values</p></blockquote><div class="table-wrapper"><table><tbody><tr><td><code class="language-plaintext highlighter-rouge">a</code><td><strong>0</strong><td><strong>1</strong><td><strong>2</strong><td><strong>3</strong><tr><td><strong>0</strong><td>0<td>0<td>0<td>0<tr><td><strong>1</strong><td>0<td>9<td>8<td>4<tr><td><strong>2</strong><td>0<td>7<td>2<td>3<tr><td><strong>3</strong><td>0<td>6<td>1<td>5</table></div><p>We start by initializing our <code class="language-plaintext highlighter-rouge">dp</code> array to -1. (<code class="language-plaintext highlighter-rouge">memset</code> in C++)</p><div class="table-wrapper"><table><tbody><tr><td><code class="language-plaintext highlighter-rouge">dp</code><td><strong>0</strong><td><strong>1</strong><td><strong>2</strong><td><strong>3</strong><tr><td><strong>0</strong><td>-1<td>-1<td>-1<td>-1<tr><td><strong>1</strong><td>-1<td>-1<td>-1<td>-1<tr><td><strong>2</strong><td>-1<td>-1<td>-1<td>-1<tr><td><strong>3</strong><td>-1<td>-1<td>-1<td>-1</table></div><blockquote><p><code class="language-plaintext highlighter-rouge">f(i, j)</code> represents the recursive function with start value <code class="language-plaintext highlighter-rouge">i</code> and <code class="language-plaintext highlighter-rouge">j</code>.</p></blockquote><p>We start by calling <code class="language-plaintext highlighter-rouge">f(1, 1)</code></p><h3 id="call-f1-1-value--9">Call: <code class="language-plaintext highlighter-rouge">f(1, 1)</code>, value = 9</h3><p>Since this value has no strictly greater neighbours (its neighbours are 8 and 7), we return 0. The <code class="language-plaintext highlighter-rouge">dp</code> array does not change.</p><p>Returned 0.</p><h3 id="call-f1-2-value--8">Call: <code class="language-plaintext highlighter-rouge">f(1, 2)</code>, value = 8</h3><p>There is one neighbour that is strictly greater than the current value, which is <code class="language-plaintext highlighter-rouge">i = 1, j = 1</code> with a value of 9. Since the value at <code class="language-plaintext highlighter-rouge">i = 1, j = 1</code> has already been computed, we return <code class="language-plaintext highlighter-rouge">dp[1][1]</code> + 1, which is 1.</p><p>Returned 1.</p><p><code class="language-plaintext highlighter-rouge">f(i, j)</code> is then called for each value for <code class="language-plaintext highlighter-rouge">i</code> and <code class="language-plaintext highlighter-rouge">j</code> from 1 to <code class="language-plaintext highlighter-rouge">N</code> (matrix size), and the largest value is outputted. At the end of all the calls, the <code class="language-plaintext highlighter-rouge">dp</code> array is as follows.</p><div class="table-wrapper"><table><tbody><tr><td><code class="language-plaintext highlighter-rouge">dp</code><td><strong>0</strong><td><strong>1</strong><td><strong>2</strong><td><strong>3</strong><tr><td><strong>0</strong><td>-1<td>-1<td>-1<td>-1<tr><td><strong>1</strong><td>-1<td>0<td>1<td>2<tr><td><strong>2</strong><td>-1<td>1<td>4<td>3<tr><td><strong>3</strong><td>-1<td>2<td>5<td>0</table></div><p>We can now see that the longest strictly increasing path in the matrix has a length of 5 and begins at <code class="language-plaintext highlighter-rouge">i = 3, j = 2</code></p><p>Now that we have created a strategy for solving the problem and verified the strategy with our sample case, we can write the code for this problem.</p><h2 id="code">Code</h2><div class="language-c++ highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
</pre><td class="rouge-code"><pre><span class="cp">#include &lt;bits/stdc++.h&gt;
</span>
<span class="cp">#define el "\n"
#define ll long long
</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="k">const</span> <span class="kt">int</span> <span class="n">MM</span> <span class="o">=</span> <span class="mi">1502</span><span class="p">;</span>

<span class="kt">int</span> <span class="n">dp</span><span class="p">[</span><span class="n">MM</span><span class="p">][</span><span class="n">MM</span><span class="p">],</span> <span class="n">n</span><span class="p">;</span>
<span class="n">ll</span> <span class="n">a</span><span class="p">[</span><span class="n">MM</span><span class="p">][</span><span class="n">MM</span><span class="p">];</span>


<span class="kt">int</span> <span class="nf">f</span><span class="p">(</span><span class="kt">int</span> <span class="n">r</span><span class="p">,</span> <span class="kt">int</span> <span class="n">c</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span><span class="p">]</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="k">return</span> <span class="n">dp</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span><span class="p">];</span> <span class="c1">// If dp value has already been calculated, return it (memoization)</span>

    <span class="kt">int</span> <span class="n">re</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">r</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">c</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">a</span><span class="p">[</span><span class="n">r</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">c</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">a</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span><span class="p">])</span> <span class="n">re</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">re</span><span class="p">,</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">f</span><span class="p">(</span><span class="n">r</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">c</span><span class="p">));</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">r</span> <span class="o">+</span> <span class="mi">1</span><span class="p">][</span><span class="n">c</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">a</span><span class="p">[</span><span class="n">r</span> <span class="o">+</span> <span class="mi">1</span><span class="p">][</span><span class="n">c</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">a</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span><span class="p">])</span> <span class="n">re</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">re</span><span class="p">,</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">f</span><span class="p">(</span><span class="n">r</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">c</span><span class="p">));</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">a</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">a</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span><span class="p">])</span> <span class="n">re</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">re</span><span class="p">,</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">f</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">c</span> <span class="o">-</span> <span class="mi">1</span><span class="p">));</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">a</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">a</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span><span class="p">])</span> <span class="n">re</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">re</span><span class="p">,</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">f</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">c</span> <span class="o">+</span> <span class="mi">1</span><span class="p">));</span>

    <span class="k">return</span> <span class="n">dp</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span><span class="p">]</span> <span class="o">=</span> <span class="n">re</span><span class="p">;</span>
<span class="p">}</span>


<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">cin</span><span class="p">.</span><span class="n">tie</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span> <span class="n">ios</span><span class="o">::</span><span class="n">sync_with_stdio</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span> <span class="c1">// Fast input/output</span>
    
    <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">n</span><span class="p">;</span>

    <span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

    <span class="n">memset</span><span class="p">(</span><span class="n">dp</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">dp</span><span class="p">));</span> <span class="c1">// Initialize dp array to -1</span>

    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">ans</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">ans</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">));</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">ans</span> <span class="o">&lt;&lt;</span> <span class="n">el</span><span class="p">;</span>
<span class="p">}</span>
</pre></table></code></div></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/programming/'>programming</a>, <a href='/categories/competitive-programming/'>competitive programming</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/dynamic-programming/" class="post-tag no-text-decoration" >dynamic programming</a> <a href="/tags/recursion/" class="post-tag no-text-decoration" >recursion</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://blog.vishnus.me/posts/ac19p5/" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <a href="https://twitter.com/intent/tweet?text=Solving “Appleby Contest '19 P5 - Matrix Operation” on DMOJ - Vishnu's Blog&url=https://blog.vishnus.me/posts/ac19p5/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Solving “Appleby Contest '19 P5 - Matrix Operation” on DMOJ - Vishnu's Blog&u=https://blog.vishnus.me/posts/ac19p5/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/getting-summer-2021-internship/">Getting my summer 2021 internship + general tips and advice</a><li><a href="/posts/ds2/">Solving “Disjoint Set Test” on DMOJ</a><li><a href="/posts/ac19p5/">Solving “Appleby Contest '19 P5 - Matrix Operation” on DMOJ</a><li><a href="/posts/blog-views-badge/">Blog post views on a static blog for free</a><li><a href="/posts/about-me/">About this blog (and me)</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/development/">development</a> <a class="post-tag" href="/tags/dynamic-programming/">dynamic programming</a> <a class="post-tag" href="/tags/graph-theory/">graph theory</a> <a class="post-tag" href="/tags/internship/">internship</a> <a class="post-tag" href="/tags/meta/">meta</a> <a class="post-tag" href="/tags/recursion/">recursion</a> <a class="post-tag" href="/tags/tools/">tools</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/ds2/"><div class="card-body"> <span class="timeago small" > Jun 13, 2021 <i class="unloaded">2021-06-13T10:00:00-04:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Solving “Disjoint Set Test” on DMOJ</h3><div class="text-muted small"><p> Problem Problem link: https://dmoj.ca/problem/ds2 Problem type: Graph theory This problem asks us to implement a program that outputs the number of edges in the minimum spanning tree of a weigh...</p></div></div></a></div><div class="card"> <a href="/posts/blog-views-badge/"><div class="card-body"> <span class="timeago small" > Jun 7, 2021 <i class="unloaded">2021-06-07T20:50:00-04:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Blog post views on a static blog for free</h3><div class="text-muted small"><p> Background I wanted to create a blog, and do so for free without being bound by a service that holds my content. (GitHub doesn’t count, since the blog files and the posts are saved locally, and ...</p></div></div></a></div><div class="card"> <a href="/posts/getting-summer-2021-internship/"><div class="card-body"> <span class="timeago small" > Sep 27, 2021 <i class="unloaded">2021-09-27T10:00:00-04:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Getting my summer 2021 internship + general tips and advice</h3><div class="text-muted small"><p> During the summer of 2021, I interned at the University of Waterloo developing a website for the Software Architecture Group (SWAG). This blog post will outline how I got the internship and general...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/about-me/" class="btn btn-outline-primary" prompt="Older"><p>About this blog (and me)</p></a> <a href="/posts/blog-views-badge/" class="btn btn-outline-primary" prompt="Newer"><p>Blog post views on a static blog for free</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://github.com/vishnupsatish">Vishnu Satish</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/development/">development</a> <a class="post-tag" href="/tags/dynamic-programming/">dynamic programming</a> <a class="post-tag" href="/tags/graph-theory/">graph theory</a> <a class="post-tag" href="/tags/internship/">internship</a> <a class="post-tag" href="/tags/meta/">meta</a> <a class="post-tag" href="/tags/recursion/">recursion</a> <a class="post-tag" href="/tags/tools/">tools</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://blog.vishnus.me{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
